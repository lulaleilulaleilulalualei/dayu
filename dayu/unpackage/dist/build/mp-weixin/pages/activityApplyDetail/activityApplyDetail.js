(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activityApplyDetail/activityApplyDetail"],{"28fc":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(a("38b6")),s=a("2f62");function l(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){o(t,e,a[e])})}return t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n={data:function(){return{isShowMoreNum:!1,id:null,detailObj:{},startTime:"",endTime:"",isLoadErr:!1,newAddImg:[]}},components:{loadErr:i.default},onLoad:function(t){this.id=t.id,this.getApplyDetail(),"apply"==t.from&&this.c_toRefreshMine(!0)},methods:c({},(0,s.mapActions)(["c_toRefreshMine"]),{toShowAllImg:function(){var e=this;t.navigateTo({url:"/pages/activityPhoto/activityPhoto?id=".concat(e.detailObj.act_id)})},toShowMoreNum:function(){this.isShowMoreNum=!this.isShowMoreNum},toRelaodData:function(){this.detailObj={},this.isLoadErr=!1,this.getApplyDetail()},getApplyDetail:function(){var t=this;this.$api.ajax({url:this.$config.actApplyDetail,data:{apply_id:this.id}}).then(function(e){200==e.statusCode&&0==e.data.code?(t.detailObj=e.data.data,t.startTime=e.data.data.start_time.split(" ")[0].replace(/-/g,"/"),t.endTime=e.data.data.end_time.split(" ")[0].replace(/-/g,"/")):(t.api.warnNotice(e.data.message),t.isLoadErr=!0)}).catch(function(){t.isLoadErr=!0})},uploadPhoto:function(){var e=this,a=this;t.chooseImage({count:9,success:function(i){for(var s=i.tempFilePaths,l=0;l<s.length;l++)t.uploadFile({url:a.$config.saveUpload,filePath:s[l],name:"files",formData:{time:(new Date).getTime(),act_id:a.detailObj.act_id,uid:a.$userInfo.uid},success:function(t){var i=JSON.parse(t.data);if(0==i.code){var s=i.data[0].url;e.detailObj.picture_list.unshift({pic_url:s}),e.newAddImg.push(s)}else a.$api.warnNotice(i.message)},fail:function(){a.$api.warnNotice("图片上传失败")}})}})}})};e.default=n}).call(this,a("543d")["default"])},"33f0":function(t,e,a){"use strict";a.r(e);var i=a("d33d"),s=a("5d98");for(var l in s)"default"!==l&&function(t){a.d(e,t,function(){return s[t]})}(l);a("c058");var c=a("2877"),o=Object(c["a"])(s["default"],i["a"],i["b"],!1,null,"491788be",null);e["default"]=o.exports},"5d98":function(t,e,a){"use strict";a.r(e);var i=a("28fc"),s=a.n(i);for(var l in i)"default"!==l&&function(t){a.d(e,t,function(){return i[t]})}(l);e["default"]=s.a},"649f":function(t,e,a){"use strict";a("9010");var i=l(a("b0ce")),s=l(a("33f0"));function l(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},c058:function(t,e,a){"use strict";var i=a("fb6f"),s=a.n(i);s.a},d33d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"activityApplyDetail"},[a("cu-custom",{attrs:{bgColor:"white",isBack:!0,mpcomid:"8a5cc87e-0"}},[a("block",{slot:"content"},[t._v("报名活动详情")])],1),a("view",{staticClass:"contentBox"},[a("scroll-view",{staticClass:"contentBoxScroll",attrs:{"scroll-y":!0}},[a("view",{staticClass:"applyBox"},[a("view",{staticClass:"showApplyInfo"},[a("view",{staticClass:"applyActImg"},[a("image",{attrs:{src:t.detailObj.thumb,mode:"aspectFill"}})]),a("view",{staticClass:"applyActInfo"},[a("view",{staticClass:"applyActTitle"},[t._v(t._s(t.detailObj.name))]),a("view",{staticClass:"applyActOtherInfo"},[a("view",{staticClass:"applyActTime"},[t._v("时间："+t._s(t.startTime)+" - "+t._s(t.endTime))]),a("view",{staticClass:"applyActAddress"},[t._v("地点："+t._s(t.detailObj.leader))])])])]),a("view",{staticClass:"showApplyFee"},[a("view",{staticClass:"applyFeeTitle"},[t._v("活动报名费用")]),0==t.detailObj.is_fee?a("view",{staticClass:"applyFeeCost"},[t._v("免费")]):t._e(),1==t.detailObj.is_fee?a("block",[0==t.pay_fee?a("view",{staticClass:"applyFeeCost"},[t._v("¥"+t._s(t.detailObj.apply_fee)+"/人 x"+t._s(t.detailObj.my_apply.apply_num))]):t._e(),a("view",{staticClass:"applyFeeCost",attrs:{else:""}},[t._v("¥"+t._s(t.detailObj.apply_fee)+"/人 x"+t._s(t.detailObj.my_apply.apply_num))])]):t._e()],1)]),t.detailObj.my_apply?a("view",{staticClass:"actApplyInfo"},[a("view",{staticClass:"itemApplyInfoTitle"},[t._v("报名人信息")]),a("view",{staticClass:"itemActApplyInfo"},[a("text",[t._v("姓名")]),a("text",[t._v(t._s(t.detailObj.my_apply.name))])]),a("view",{staticClass:"itemActApplyInfo"},[a("text",[t._v("电话")]),a("text",[t._v(t._s(t.detailObj.my_apply.tel))])])]):t._e(),a("view",{staticClass:"showActPic"},[a("view",{staticClass:"showActPicTitle"},[a("view",{staticClass:"showActPicTitleTxt"},[t._v("活动照片 · "+t._s(t.detailObj.picture_count+t.newAddImg.length)+"张")]),a("view",{staticClass:"toUploadActImg",attrs:{eventid:"8a5cc87e-0"},on:{click:t.uploadPhoto}},[t._v("上传照片")])]),t.detailObj.picture_count+t.newAddImg.length>0?a("view",{staticClass:"showActPicBox"},[a("scroll-view",{staticClass:"toShowPicScroll",attrs:{"scroll-x":!0}},t._l(t.detailObj.picture_list,function(t,e){return a("view",{key:e,staticClass:"itemShowActPic"},[a("image",{attrs:{src:t.pic_url,mode:"aspectFill"}})])}))],1):t._e(),t.detailObj.picture_count+t.newAddImg.length>0?a("view",{staticClass:"toShowAllPic",attrs:{eventid:"8a5cc87e-1"},on:{click:t.toShowAllImg}},[t._v("点击查看全部")]):t._e()]),a("view",{staticClass:"actApplyNum"},[a("view",{staticClass:"actApplyTitle"},[t._v("报名成员 · "+t._s(t.detailObj.apply_num)+"人/"+t._s(0==t.detailObj.is_limit?"不限":t.detailObj.max_num))]),a("view",{staticClass:"actApplyList",style:{height:t.isShowMoreNum?"auto":"450rpx"}},t._l(t.detailObj.apply_list,function(e,i){return a("view",{key:e.apply_id,staticClass:"itemActApply"},[a("view",{staticClass:"itemActApplyImg"},[a("view",{staticClass:"itemActApplyImgBox"},[a("img",{attrs:{src:e.avatar,alt:""}})]),e.apply_num>1?a("view",{staticClass:"itemActApplyNum"},[t._v(t._s(e.apply_num))]):t._e()]),a("view",{staticClass:"itemActApplyName"},[t._v(t._s(e.name))])])})),t.detailObj.apply_list&&t.detailObj.apply_list.length>8?a("view",{staticClass:"toShowMoreBtn",attrs:{eventid:"8a5cc87e-2"},on:{click:t.toShowMoreNum}},[a("view",{staticClass:"showMoreBtn",class:{toShowMoreContent:t.isShowMoreNum}},[t._v(t._s(t.isShowMoreNum?"收起":"展开全部"))])]):t._e()])])],1),t.isLoadErr?a("loadErr",{attrs:{eventid:"8a5cc87e-3",mpcomid:"8a5cc87e-1"},on:{toRelaodData:t.toRelaodData}}):t._e()],1)},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},fb6f:function(t,e,a){}},[["649f","common/runtime","common/vendor"]]]);